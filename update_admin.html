<!DOCTYPE html>
<html>
<head>
    <title>Cập nhật thông tin admin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="container my-5">
        <h1 class="mb-4">Cập nhật thông tin cá nhân</h1>
        
        <form id="update-form" action="update_admin.php" method="POST">
            <div class="mb-3">
                <label for="username" class="form-label">Tên đăng nhập:</label>
                <input type="text" class="form-control" id="username" name="username" required>
            </div>
            
            <div class="mb-3">
                <label for="email" class="form-label">Email:</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>
            
            <div class="mb-3">
                <label for="password" class="form-label">Mật khẩu:</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>
            
            <div class="mb-3">
                <label for="name" class="form-label">Tên đầy đủ:</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>
            
            <div class="mb-3">
                <label for="phone" class="form-label">Số điện thoại:</label>
                <input type="tel" class="form-control" id="phone" name="phone" required>
            </div>
            
            <button type="submit" class="btn btn-primary" id="update-btn">Cập nhật</button>
            <a href="user.html" class="btn btn-secondary">Thoát</a>
        </form>
    </div>
    
    <footer class="bg-light py-3 mt-5">
        <div class="container">
            <p class="mb-0 text-center">&copy; 2024 Quản lý thông tin admin</p>
        </div>
    </footer>
    
    <script>
        $(document).ready(function() {
            $('#update-btn').click(function(e) {
                e.preventDefault(); // Ngăn chặn hành vi mặc định của nút submit

                // Lấy dữ liệu từ các trường input
                var username = $('#username').val();
                var email = $('#email').val();
                var password = $('#password').val();
                var name = $('#name').val();
                var phone = $('#phone').val();

                // Tạo object chứa dữ liệu
                var formData = {
                    username: username,
                    email: email,
                    password: password,
                    name: name,
                    phone: phone
                };

                // Gửi dữ liệu bằng AJAX
                $.ajax({
                    type: 'POST',
                    url: '#', // Thay bằng URL tương ứng
                    data: formData,
                    success: function(response) {
                        // Hiển thị thông báo cập nhật thành công
                        alert("Cập nhật thông tin thành công!");

                        // Chuyển hướng về trang admin_haui.html
                        window.location.href = "admin_haui.html";
                    },
                    error: function(xhr, status, error) {
                        // Xử lý lỗi nếu có
                        alert("Đã xảy ra lỗi khi cập nhật thông tin. Vui lòng thử lại.");
                    }
                });
            });
        });
    </script>
</body>
</html>